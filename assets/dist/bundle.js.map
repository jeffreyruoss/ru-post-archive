{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://z3probatecalculator/./assets/src/js/archive.js","webpack://z3probatecalculator/webpack/bootstrap","webpack://z3probatecalculator/webpack/runtime/define property getters","webpack://z3probatecalculator/webpack/runtime/hasOwnProperty shorthand","webpack://z3probatecalculator/webpack/runtime/make namespace object","webpack://z3probatecalculator/./assets/src/js/index.js","webpack://z3probatecalculator/./assets/src/scss/styles.scss"],"sourcesContent":["export default class Archive {\n  constructor(config) {\n    this.config = config;\n    this.currentPage = 1;\n    this.render();\n  }\n\n  getDomain() {\n    const domain = window.location.hostname;\n    const port = window.location.port;\n    return domain + (port ? ':' + port : '');\n  }\n\n  async fetchData(endpoint, params = {}) {\n    const domain = this.getDomain();\n    const queryString = new URLSearchParams(params).toString();\n    const url = `https://${domain}/wp-json/wp/v2/${endpoint}${queryString ? '?' + queryString : ''}`;\n    try {\n      const response = await fetch(url);\n      const data = await response.json();\n      const totalPages = parseInt(response.headers.get('X-WP-TotalPages'), 10);\n      return { data, totalPages };\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async filters() {\n    try {\n      const { data: categories } = await this.fetchData(this.config.filterTaxonomy);\n      const filterList = categories\n        .map(category => `<li><a href=\"?filter=${category.slug}\">${category.name}</a></li>`)\n        .join('');\n\n      return `\n        <div class=\"ru-post-archive__filter\">\n          <ul>\n            ${filterList}\n          </ul>\n        </div>\n      `;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getFeaturedImageUrl(featuredMediaId) {\n    try {\n      const { data: media } = await this.fetchData(`media/${featuredMediaId}`);\n      const featuredImgSize = this.config.featuredImgSize;\n      return media.media_details.sizes[featuredImgSize].source_url;;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n\n  async grid() {\n    try {\n      const { data: posts, totalPages } = await this.fetchData(\n        this.config.postType,\n        {\n          per_page: this.config.postsPerPage,\n          page: this.currentPage\n        }\n      );\n\n      const postList = await Promise.all(\n        posts.map(async post => {\n          const featuredImageUrl = await this.getFeaturedImageUrl(post.featured_media);\n          const title = post.title.rendered;\n          const publishedDate = new Date(post.date).toLocaleDateString();\n          const categories = post.tips_category;\n          const content = post.content.rendered;\n\n          return `\n            <div class=\"ru-post-archive__post\">\n              <div class=\"ru-post-archive__image\">\n                <img src=\"${featuredImageUrl}\" loading=\"lazy\" alt=\"${title}\" />\n              </div>\n              <div class=\"ru-post-archive__info\">\n                <h3>${title}</h3>\n                <p class=\"ru-post-archive__date\">${publishedDate}</p>\n                <p class=\"ru-post-archive__categories\">${categories}</p>\n                <div class=\"ru-post-archive__content\">${content}</div>\n              </div>\n            </div>\n          `;\n        })\n      );\n\n      return `\n        <div class=\"ru-post-archive__grid\">\n          ${postList.join('')}\n        </div>\n        <div class=\"ru-post-archive__pagination\">\n          <button id=\"previous-page\" ${this.currentPage <= 1 ? 'disabled' : ''}>Previous</button>\n          <span>Page ${this.currentPage}</span>\n          <button id=\"next-page\" ${this.currentPage >= totalPages ? 'disabled' : ''}>Next</button>\n        </div>\n      `;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async previousPage() {\n    if (this.currentPage > 1) {\n      this.currentPage--;\n      await this.render();\n    }\n  }\n\n  async nextPage() {\n    this.currentPage++;\n    await this.render();\n  }\n\n  addPaginationEventListeners() {\n    const previousButton = document.querySelector('#previous-page');\n    const nextButton = document.querySelector('#next-page');\n\n    previousButton.addEventListener('click', () => this.previousPage());\n    nextButton.addEventListener('click', () => this.nextPage());\n  }\n\n  async render() {\n    document.querySelector('#ru-post-archive').innerHTML = (await this.filters()) + (await this.grid());\n    this.addPaginationEventListeners();\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import Archive from './archive';\n\n/**\n * CONFIG\n */\nconst config = {\n  postType: 'tips',\n  postsPerPage: 6,\n  featuredImgSize: 'thumbnail',\n  filterTaxonomy: 'tips_category',\n}\n\n\nconst archive = new Archive(config);\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["Archive","config","currentPage","render","domain","window","location","hostname","port","endpoint","params","getDomain","queryString","URLSearchParams","toString","url","fetch","response","json","data","totalPages","parseInt","headers","get","console","error","fetchData","filterTaxonomy","categories","filterList","map","category","slug","name","join","featuredMediaId","media","featuredImgSize","media_details","sizes","source_url","postType","per_page","postsPerPage","page","posts","Promise","all","post","getFeaturedImageUrl","featured_media","featuredImageUrl","title","rendered","publishedDate","Date","date","toLocaleDateString","tips_category","content","postList","previousButton","document","querySelector","nextButton","addEventListener","previousPage","nextPage","filters","grid","innerHTML","addPaginationEventListeners","archive"],"sourceRoot":""}