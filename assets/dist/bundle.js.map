{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://z3probatecalculator/./assets/src/js/PostFetcher.js","webpack://z3probatecalculator/webpack/bootstrap","webpack://z3probatecalculator/webpack/runtime/define property getters","webpack://z3probatecalculator/webpack/runtime/hasOwnProperty shorthand","webpack://z3probatecalculator/webpack/runtime/make namespace object","webpack://z3probatecalculator/./assets/src/js/index.js","webpack://z3probatecalculator/./assets/src/scss/styles.scss"],"sourcesContent":["export default class PostFetcher {\n  constructor(args = {}) {\n    this.defaults = {\n      post_type: 'post',\n      taxonomy: 'category',\n      categories: '', // comma separated list of category slugs: 'test,another-test'\n      per_page: 10,\n      current_page: 1,\n      image_size: 'thumbnail',\n      show_excerpt: false, // false shows full content\n      ajax_url: ''\n    };\n\n    // Merge the default values with the provided arguments\n    this.options = { ...this.defaults, ...args };\n\n    this.archiveListeners();\n  }\n\n  fetchPosts(args = {}) {\n    // Update the options with any new arguments provided\n    this.options = { ...this.options, ...args };\n\n    // Check for query parameters in the URL\n    const queryParams = new URLSearchParams(window.location.search);\n\n    // Override options with query parameters if they exist\n    if (queryParams.has('categories')) {\n      this.options.categories = queryParams.get('categories');\n    }\n    if (queryParams.has('current_page')) {\n      this.options.current_page = parseInt(queryParams.get('current_page'), 10);\n    }\n\n    // Create a URL object and append the search parameters\n    const url = new URL(this.options.ajax_url, window.location.origin);\n    for (const key in this.options) {\n      url.searchParams.append(key, this.options[key]);\n    }\n\n    // Make a Fetch request to the PHP file\n    fetch(url)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.text();\n      })\n      .then((html) => {\n        const ruPostArchive = document.querySelector(\"#ru-post-archive\");\n        const postElements = ruPostArchive.querySelectorAll(\".ru-archive__post\");\n\n        // Add the \"hidden\" class to the existing post elements\n        postElements.forEach((element) => {\n          element.classList.add(\"hidden\");\n        });\n\n        // Wait for the fade-out transition to complete\n        setTimeout(() => {\n          // Update the content of the DOM element with the response\n          ruPostArchive.innerHTML = html;\n\n          // Remove the \"hidden\" class from the new post elements after a short delay\n          const newPostElements = ruPostArchive.querySelectorAll(\".ru-archive__post\");\n          newPostElements.forEach((element) => {\n            setTimeout(() => {\n              element.classList.remove(\"hidden\");\n            }, 50);\n          });\n        }, 100);\n      })\n      .catch((error) => {\n        console.error('An error occurred while fetching the posts:', error);\n      });\n  }\n\n  archiveListeners() {\n    const postArchive = document.getElementById(\"ru-post-archive\");\n\n    postArchive.addEventListener(\"click\", (event) => {\n      const target = event.target;\n      event.preventDefault();\n\n      if (target.classList.contains(\"post-category\")) {\n        // Handle category click\n        this.handleCategoryClick(target);\n      } else if (target.classList.contains(\"pagination-link\")) {\n        // Handle pagination click\n        this.handlePaginationClick(target);\n      }\n    });\n  }\n\n  handleCategoryClick(target) {\n    if (target.classList.contains(\"post-category\")) {\n      event.preventDefault();\n\n      this.options.current_page = 1;\n\n      // if data-filter-multi=\"true\" add the category else replace the category\n      if (target.dataset.filterMulti === \"true\") {\n        const newCategory = target.dataset.categorySlug;\n        let categoriesArray = this.options.categories ? this.options.categories.split(\",\") : [];\n\n        // Check if the category is already in the categories array\n        const categoryIndex = categoriesArray.indexOf(newCategory);\n\n        if (categoryIndex === -1) {\n          // If it's not in the array, add it\n          categoriesArray.push(newCategory);\n        } else {\n          // If it's already in the array, remove it\n          categoriesArray.splice(categoryIndex, 1);\n        }\n\n        // Convert the array back to a comma-separated string\n        this.options.categories = categoriesArray.join(\",\");\n      } else {\n        this.options.categories = target.dataset.categorySlug;\n      }\n\n      this.updateUrl();\n      this.fetchPosts();\n    }\n  }\n\n  handlePaginationClick(target) {\n    if (target.classList.contains(\"pagination-link\")) {\n      event.preventDefault();\n      const pageNumber = parseInt(target.dataset.page, 10);\n      this.options.current_page = pageNumber;\n\n      this.updateUrl();\n      this.fetchPosts();\n    }\n  }\n\n  updateUrl() {\n    const url = new URL(window.location.href);\n    const params = new URLSearchParams(url.search);\n    params.set('categories', this.options.categories);\n    params.set('current_page', this.options.current_page);\n    url.search = params.toString();\n    window.history.pushState({}, '', url);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import PostFetcher from './PostFetcher';\n\nconst postFetcher = new PostFetcher({\n  post_type: 'tips',\n  taxonomy: 'tips_category',\n  categories: '', // comma separated list of category slugs: 'test,another-test'\n  per_page: 3,\n  image_size: 'thumbnail',\n  show_excerpt: false, // false shows full content\n  ajax_url: '/wp-content/plugins/ru-post-archive/ajax-tips.php'\n});\n\npostFetcher.fetchPosts();\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["PostFetcher","args","defaults","post_type","taxonomy","categories","per_page","current_page","image_size","show_excerpt","ajax_url","options","archiveListeners","queryParams","URLSearchParams","window","location","search","has","get","parseInt","url","URL","origin","key","searchParams","append","fetch","then","response","ok","Error","text","html","ruPostArchive","document","querySelector","postElements","querySelectorAll","forEach","element","classList","add","setTimeout","innerHTML","newPostElements","remove","error","console","postArchive","getElementById","addEventListener","event","target","preventDefault","contains","handleCategoryClick","handlePaginationClick","dataset","filterMulti","newCategory","categorySlug","categoriesArray","split","categoryIndex","indexOf","push","splice","join","updateUrl","fetchPosts","pageNumber","page","href","params","set","toString","history","pushState","postFetcher"],"sourceRoot":""}